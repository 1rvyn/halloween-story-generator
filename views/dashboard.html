<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Dashboard</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 50px; }
        .profile { display: flex; align-items: center; }
        .profile img { border-radius: 50%; margin-right: 20px; }
    </style>
    <script>
        // Function to get a cookie by name
        function getCookie(name) {
            let value = "; " + document.cookie;
            let parts = value.split("; " + name + "=");
            if (parts.length == 2) return parts.pop().split(";").shift();
        }

        // Store the JWT token in localStorage
        const jwtToken = getCookie('jwt');
        if (jwtToken) {
            localStorage.setItem('jwt', jwtToken);
        }
    </script>
</head>
<body>
    <h1>Welcome, {{.Name}}!</h1>
    <div class="profile">
        <img src="{{.Picture}}" alt="Profile Picture" width="100" height="100">
        <div>
            <p><strong>Name:</strong> {{.Name}}</p>
            <p><strong>Email:</strong> {{.Email}}</p>
        </div>
    </div>
    <h2>Your Stories</h2>
    <ul>
        {{range .Stories}}
            <li>{{.Content}}</li>
        {{end}}
    </ul>

    <a href="/story">Add New Story</a>
</body>
</html>
